{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/luist/Downloads/code%20%2819%29/lib/database.ts"],"sourcesContent":["// Neon database connection\nimport { neon } from '@neondatabase/serverless';\n\nif (!process.env.DATABASE_URL) {\n  throw new Error('DATABASE_URL environment variable is not set');\n}\n\nconst sql = neon(process.env.DATABASE_URL!);\n\nexport { sql };\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;AAC3B;;AAEA,IAAI,CAAC,QAAQ,GAAG,CAAC,YAAY,EAAE;IAC7B,MAAM,IAAI,MAAM;AAClB;AAEA,MAAM,MAAM,IAAA,gKAAI,EAAC,QAAQ,GAAG,CAAC,YAAY"}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/luist/Downloads/code%20%2819%29/lib/security/input-validation.ts"],"sourcesContent":["import { z } from 'zod';\n\nexport const LoginSchema = z.object({\n  email: z.string().email('Invalid email format').toLowerCase().trim(),\n  password: z.string().min(8, 'Password must be at least 8 characters'),\n});\n\nexport const ProductSchema = z.object({\n  code: z.string().min(1).max(50).toUpperCase().trim(),\n  name: z.string().min(1).max(255).trim(),\n  description: z.string().max(1000).trim().optional(),\n  categoryId: z.number().positive(),\n  price: z.number().positive('Price must be positive'),\n  size: z.string().max(50).trim().optional(),\n  color: z.string().max(100).trim().optional(),\n  gender: z.string().max(50).trim().optional(),\n  stock: z.number().int().nonnegative('Stock cannot be negative').default(0),\n});\n\nexport type LoginInput = z.infer<typeof LoginSchema>;\nexport type ProductInput = z.infer<typeof ProductSchema>;\n\nexport function validateLogin(data: unknown) {\n  return LoginSchema.safeParse(data);\n}\n\nexport function validateProduct(data: unknown) {\n  return ProductSchema.safeParse(data);\n}\n\nexport function validateEmail(email: string): boolean {\n  const emailSchema = z.string().email();\n  const result = emailSchema.safeParse(email.toLowerCase().trim());\n  return result.success;\n}\n\nexport function sanitizeString(input: string): string {\n  return input.replace(/[<>\\\"'&]/g, (char) => {\n    const map: { [key: string]: string } = {\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#x27;',\n      '&': '&amp;',\n    };\n    return map[char];\n  });\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;AAEO,MAAM,cAAc,yKAAC,CAAC,MAAM,CAAC;IAClC,OAAO,yKAAC,CAAC,MAAM,GAAG,KAAK,CAAC,wBAAwB,WAAW,GAAG,IAAI;IAClE,UAAU,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AAC9B;AAEO,MAAM,gBAAgB,yKAAC,CAAC,MAAM,CAAC;IACpC,MAAM,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,WAAW,GAAG,IAAI;IAClD,MAAM,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,KAAK,IAAI;IACrC,aAAa,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,IAAI,GAAG,QAAQ;IACjD,YAAY,yKAAC,CAAC,MAAM,GAAG,QAAQ;IAC/B,OAAO,yKAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC3B,MAAM,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,IAAI,IAAI,GAAG,QAAQ;IACxC,OAAO,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,KAAK,IAAI,GAAG,QAAQ;IAC1C,QAAQ,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,IAAI,IAAI,GAAG,QAAQ;IAC1C,OAAO,yKAAC,CAAC,MAAM,GAAG,GAAG,GAAG,WAAW,CAAC,4BAA4B,OAAO,CAAC;AAC1E;AAKO,SAAS,cAAc,IAAa;IACzC,OAAO,YAAY,SAAS,CAAC;AAC/B;AAEO,SAAS,gBAAgB,IAAa;IAC3C,OAAO,cAAc,SAAS,CAAC;AACjC;AAEO,SAAS,cAAc,KAAa;IACzC,MAAM,cAAc,yKAAC,CAAC,MAAM,GAAG,KAAK;IACpC,MAAM,SAAS,YAAY,SAAS,CAAC,MAAM,WAAW,GAAG,IAAI;IAC7D,OAAO,OAAO,OAAO;AACvB;AAEO,SAAS,eAAe,KAAa;IAC1C,OAAO,MAAM,OAAO,CAAC,aAAa,CAAC;QACjC,MAAM,MAAiC;YACrC,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACP;QACA,OAAO,GAAG,CAAC,KAAK;IAClB;AACF"}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/luist/Downloads/code%20%2819%29/lib/security/rate-limit.ts"],"sourcesContent":["import NodeCache from 'node-cache';\n\ninterface RateLimitConfig {\n  windowMs: number; // Time window in milliseconds\n  maxRequests: number; // Max requests per window\n}\n\nconst DEFAULT_CONFIG: RateLimitConfig = {\n  windowMs: 60 * 1000, // 1 minute\n  maxRequests: 30,\n};\n\nclass RateLimiter {\n  private cache = new NodeCache({ stdTTL: 60, checkperiod: 30 });\n  private config: RateLimitConfig;\n\n  constructor(config: Partial<RateLimitConfig> = {}) {\n    this.config = { ...DEFAULT_CONFIG, ...config };\n  }\n\n  check(identifier: string): { allowed: boolean; remaining: number } {\n    const key = `ratelimit:${identifier}`;\n    let count = this.cache.get<number>(key) || 0;\n\n    if (count >= this.config.maxRequests) {\n      return {\n        allowed: false,\n        remaining: 0,\n      };\n    }\n\n    count += 1;\n    this.cache.set(key, count, Math.ceil(this.config.windowMs / 1000));\n\n    return {\n      allowed: true,\n      remaining: this.config.maxRequests - count,\n    };\n  }\n\n  reset(identifier: string): void {\n    this.cache.del(`ratelimit:${identifier}`);\n  }\n}\n\nexport const apiLimiter = new RateLimiter({\n  windowMs: 15 * 60 * 1000, // 15 minutes\n  maxRequests: 100,\n});\n\nexport const loginLimiter = new RateLimiter({\n  windowMs: 15 * 60 * 1000, // 15 minutes\n  maxRequests: 10,\n});\n"],"names":[],"mappings":";;;;;;AAAA;;AAOA,MAAM,iBAAkC;IACtC,UAAU,KAAK;IACf,aAAa;AACf;AAEA,MAAM;IACI,QAAQ,IAAI,mJAAS,CAAC;QAAE,QAAQ;QAAI,aAAa;IAAG,GAAG;IACvD,OAAwB;IAEhC,YAAY,SAAmC,CAAC,CAAC,CAAE;QACjD,IAAI,CAAC,MAAM,GAAG;YAAE,GAAG,cAAc;YAAE,GAAG,MAAM;QAAC;IAC/C;IAEA,MAAM,UAAkB,EAA2C;QACjE,MAAM,MAAM,CAAC,UAAU,EAAE,YAAY;QACrC,IAAI,QAAQ,IAAI,CAAC,KAAK,CAAC,GAAG,CAAS,QAAQ;QAE3C,IAAI,SAAS,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE;YACpC,OAAO;gBACL,SAAS;gBACT,WAAW;YACb;QACF;QAEA,SAAS;QACT,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,OAAO,KAAK,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG;QAE5D,OAAO;YACL,SAAS;YACT,WAAW,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG;QACvC;IACF;IAEA,MAAM,UAAkB,EAAQ;QAC9B,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,YAAY;IAC1C;AACF;AAEO,MAAM,aAAa,IAAI,YAAY;IACxC,UAAU,KAAK,KAAK;IACpB,aAAa;AACf;AAEO,MAAM,eAAe,IAAI,YAAY;IAC1C,UAAU,KAAK,KAAK;IACpB,aAAa;AACf"}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/luist/Downloads/code%20%2819%29/app/api/products/route.ts"],"sourcesContent":["import { sql } from '@/lib/database';\nimport { validateProduct } from '@/lib/security/input-validation';\nimport { apiLimiter } from '@/lib/security/rate-limit';\nimport { NextRequest, NextResponse } from 'next/server';\n\n// Helper to extract role\nfunction getRoleFromRequest(request: NextRequest): string | null {\n  return request.headers.get('X-User-Role') || null;\n}\n\n// Helper: extrae ID desde URL con soporte para /api/products/123 y /api/products?id=123\nfunction extractId(request: NextRequest): number | null {\n  const url = new URL(request.url);\n\n  // caso /api/products?id=123\n  const paramId = url.searchParams.get('id');\n  if (paramId) return Number(paramId);\n\n  // caso /api/products/123\n  const parts = url.pathname.split('/');\n  const last = parts[parts.length - 1];\n\n  const numericId = Number(last);\n  if (!isNaN(numericId)) return numericId;\n\n  return null;\n}\n\nexport async function GET(request: NextRequest) {\n  try {\n    const ip = request.headers.get('x-forwarded-for') || 'unknown';\n    const rateLimitCheck = apiLimiter.check(`products:get:${ip}`);\n\n    if (!rateLimitCheck.allowed) {\n      return NextResponse.json(\n        { success: false, message: 'Rate limit exceeded' },\n        { status: 429 }\n      );\n    }\n\n    const { searchParams } = new URL(request.url);\n    const search = searchParams.get('search') || '';\n    const categoryId = searchParams.get('categoryId');\n\n    const searchPattern = `%${search}%`;\n    const category = categoryId ? parseInt(categoryId) : null;\n\n    let products;\n\n    if (search && category) {\n      products = await sql`\n        SELECT \n          p.id, p.code, p.name, p.description, p.price, p.current_stock,\n          p.size, p.color, p.gender, c.name AS category,\n          p.created_at, p.updated_at\n        FROM products p\n        JOIN categories c ON p.category_id = c.id\n        WHERE p.active = true\n          AND (p.name ILIKE ${searchPattern} OR p.code ILIKE ${searchPattern})\n          AND p.category_id = ${category}\n        ORDER BY p.created_at DESC\n        LIMIT 1000\n      `;\n    } else if (search) {\n      products = await sql`\n        SELECT \n          p.id, p.code, p.name, p.description, p.price, p.current_stock,\n          p.size, p.color, p.gender, c.name AS category,\n          p.created_at, p.updated_at\n        FROM products p\n        JOIN categories c ON p.category_id = c.id\n        WHERE p.active = true\n          AND (p.name ILIKE ${searchPattern} OR p.code ILIKE ${searchPattern})\n        ORDER BY p.created_at DESC\n        LIMIT 1000\n      `;\n    } else if (category) {\n      products = await sql`\n        SELECT \n          p.id, p.code, p.name, p.description, p.price, p.current_stock,\n          p.size, p.color, p.gender, c.name AS category,\n          p.created_at, p.updated_at\n        FROM products p\n        JOIN categories c ON p.category_id = c.id\n        WHERE p.active = true\n          AND p.category_id = ${category}\n        ORDER BY p.created_at DESC\n        LIMIT 1000\n      `;\n    } else {\n      products = await sql`\n        SELECT \n          p.id, p.code, p.name, p.description, p.price, p.current_stock,\n          p.size, p.color, p.gender, c.name AS category,\n          p.created_at, p.updated_at\n        FROM products p\n        JOIN categories c ON p.category_id = c.id\n        WHERE p.active = true\n        ORDER BY p.created_at DESC\n        LIMIT 1000\n      `;\n    }\n\n    return NextResponse.json({ success: true, products });\n  } catch (error) {\n    console.error('[Products GET Error]', error);\n    return NextResponse.json(\n      { success: false, message: 'Error fetching products', error_code: 'FETCH_ERROR' },\n      { status: 500 }\n    );\n  }\n}\n\nexport async function POST(request: NextRequest) {\n  try {\n    const ip = request.headers.get('x-forwarded-for') || 'unknown';\n    const rateLimitCheck = apiLimiter.check(`products:post:${ip}`);\n\n    if (!rateLimitCheck.allowed) {\n      return NextResponse.json(\n        { success: false, message: 'Rate limit exceeded' },\n        { status: 429 }\n      );\n    }\n\n    const role = getRoleFromRequest(request);\n\n    if (!['Administrator', 'Manager', 'ADM_INV'].includes(role || '')) {\n      return NextResponse.json(\n        { success: false, message: 'Unauthorized: insufficient permissions', error_code: 'UNAUTHORIZED' },\n        { status: 403 }\n      );\n    }\n\n    const body = await request.json();\n    const validation = validateProduct(body);\n\n    if (!validation.success) {\n      return NextResponse.json(\n        {\n          success: false,\n          message: 'Invalid product data',\n          errors: validation.error.flatten(),\n          error_code: 'VALIDATION_ERROR',\n        },\n        { status: 400 }\n      );\n    }\n\n    const { code, name, description, categoryId, price, size, color, gender, stock } =\n      validation.data;\n\n    const priceValue = Number(price);\n    if (isNaN(priceValue)) {\n      return NextResponse.json(\n        { success: false, message: 'Price must be a valid number' },\n        { status: 400 }\n      );\n    }\n\n    const existing = await sql`\n      SELECT id FROM products WHERE UPPER(code) = UPPER(${code})\n    `;\n\n    if (existing.length > 0) {\n      return NextResponse.json(\n        {\n          success: false,\n          message: 'Product code already exists',\n          error_code: 'DUPLICATE_CODE',\n        },\n        { status: 409 }\n      );\n    }\n\n    const result = await sql`\n      INSERT INTO products (code, name, description, category_id, price, size, color, gender, current_stock, active)\n      VALUES (${code}, ${name}, ${description}, ${categoryId}, ${priceValue}, ${size}, ${color}, ${gender}, ${stock || 0}, true)\n      RETURNING *\n    `;\n\n    return NextResponse.json(\n      { success: true, message: 'Product created successfully', product: result[0] },\n      { status: 201 }\n    );\n  } catch (error) {\n    console.error('[Products POST Error]', error);\n    return NextResponse.json(\n      { success: false, message: 'Error creating product', error_code: 'CREATE_ERROR' },\n      { status: 500 }\n    );\n  }\n}\n\n// -----------------------------\n// üî• DELETE QUE AHORA S√ç BORRA DE VERDAD\n// -----------------------------\nexport async function DELETE(request: NextRequest) {\n  try {\n    const ip = request.headers.get('x-forwarded-for') || 'unknown';\n    const rateLimitCheck = apiLimiter.check(`products:delete:${ip}`);\n\n    if (!rateLimitCheck.allowed) {\n      return NextResponse.json(\n        { success: false, message: 'Rate limit exceeded' },\n        { status: 429 }\n      );\n    }\n\n    const role = getRoleFromRequest(request);\n\n    if (!['Administrator', 'Manager', 'ADM_INV'].includes(role || '')) {\n      return NextResponse.json(\n        { success: false, message: 'Unauthorized: insufficient permissions' },\n        { status: 403 }\n      );\n    }\n\n    const productId = extractId(request);\n\n    if (!productId) {\n      return NextResponse.json(\n        { success: false, message: 'Product ID required' },\n        { status: 400 }\n      );\n    }\n\n    const result = await sql`\n      DELETE FROM products\n      WHERE id = ${productId}\n      RETURNING id\n    `;\n\n    if (result.length === 0) {\n      return NextResponse.json(\n        { success: false, message: 'Product not found' },\n        { status: 404 }\n      );\n    }\n\n    return NextResponse.json(\n      { success: true, message: 'Product deleted successfully' },\n      { status: 200 }\n    );\n  } catch (error) {\n    console.error('[Products DELETE Error]', error);\n    return NextResponse.json(\n      { success: false, message: 'Error deleting product' },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":"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"}}]
}