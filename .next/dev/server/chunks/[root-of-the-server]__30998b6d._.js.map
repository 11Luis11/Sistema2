{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/luist/Sistema/lib/database.ts"],"sourcesContent":["// Neon database connection\r\nimport { neon } from '@neondatabase/serverless';\r\n\r\nif (!process.env.DATABASE_URL) {\r\n  throw new Error('DATABASE_URL environment variable is not set');\r\n}\r\n\r\nconst sql = neon(process.env.DATABASE_URL!);\r\n\r\nexport { sql };\r\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;AAC3B;;AAEA,IAAI,CAAC,QAAQ,GAAG,CAAC,YAAY,EAAE;IAC7B,MAAM,IAAI,MAAM;AAClB;AAEA,MAAM,MAAM,IAAA,gKAAI,EAAC,QAAQ,GAAG,CAAC,YAAY"}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/luist/Sistema/lib/security/input-validation.ts"],"sourcesContent":["import { z } from 'zod';\r\n\r\nexport const LoginSchema = z.object({\r\n  email: z.string().email('Invalid email format').toLowerCase().trim(),\r\n  password: z.string().min(8, 'Password must be at least 8 characters'),\r\n});\r\n\r\nexport const ProductSchema = z.object({\r\n  code: z.string().min(1).max(50).toUpperCase().trim(),\r\n  name: z.string().min(1).max(255).trim(),\r\n  description: z.string().max(1000).trim().optional(),\r\n  categoryId: z.number().positive(),\r\n  price: z.number().positive('Price must be positive'),\r\n  size: z.string().max(50).trim().optional(),\r\n  color: z.string().max(100).trim().optional(),\r\n  gender: z.string().max(50).trim().optional(),\r\n  stock: z.number().int().nonnegative('Stock cannot be negative').default(0),\r\n});\r\n\r\nexport type LoginInput = z.infer<typeof LoginSchema>;\r\nexport type ProductInput = z.infer<typeof ProductSchema>;\r\n\r\nexport function validateLogin(data: unknown) {\r\n  return LoginSchema.safeParse(data);\r\n}\r\n\r\nexport function validateProduct(data: unknown) {\r\n  return ProductSchema.safeParse(data);\r\n}\r\n\r\nexport function validateEmail(email: string): boolean {\r\n  const emailSchema = z.string().email();\r\n  const result = emailSchema.safeParse(email.toLowerCase().trim());\r\n  return result.success;\r\n}\r\n\r\nexport function sanitizeString(input: string): string {\r\n  return input.replace(/[<>\\\"'&]/g, (char) => {\r\n    const map: { [key: string]: string } = {\r\n      '<': '&lt;',\r\n      '>': '&gt;',\r\n      '\"': '&quot;',\r\n      \"'\": '&#x27;',\r\n      '&': '&amp;',\r\n    };\r\n    return map[char];\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;AAEO,MAAM,cAAc,yKAAC,CAAC,MAAM,CAAC;IAClC,OAAO,yKAAC,CAAC,MAAM,GAAG,KAAK,CAAC,wBAAwB,WAAW,GAAG,IAAI;IAClE,UAAU,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AAC9B;AAEO,MAAM,gBAAgB,yKAAC,CAAC,MAAM,CAAC;IACpC,MAAM,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,WAAW,GAAG,IAAI;IAClD,MAAM,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,KAAK,IAAI;IACrC,aAAa,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,IAAI,GAAG,QAAQ;IACjD,YAAY,yKAAC,CAAC,MAAM,GAAG,QAAQ;IAC/B,OAAO,yKAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC3B,MAAM,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,IAAI,IAAI,GAAG,QAAQ;IACxC,OAAO,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,KAAK,IAAI,GAAG,QAAQ;IAC1C,QAAQ,yKAAC,CAAC,MAAM,GAAG,GAAG,CAAC,IAAI,IAAI,GAAG,QAAQ;IAC1C,OAAO,yKAAC,CAAC,MAAM,GAAG,GAAG,GAAG,WAAW,CAAC,4BAA4B,OAAO,CAAC;AAC1E;AAKO,SAAS,cAAc,IAAa;IACzC,OAAO,YAAY,SAAS,CAAC;AAC/B;AAEO,SAAS,gBAAgB,IAAa;IAC3C,OAAO,cAAc,SAAS,CAAC;AACjC;AAEO,SAAS,cAAc,KAAa;IACzC,MAAM,cAAc,yKAAC,CAAC,MAAM,GAAG,KAAK;IACpC,MAAM,SAAS,YAAY,SAAS,CAAC,MAAM,WAAW,GAAG,IAAI;IAC7D,OAAO,OAAO,OAAO;AACvB;AAEO,SAAS,eAAe,KAAa;IAC1C,OAAO,MAAM,OAAO,CAAC,aAAa,CAAC;QACjC,MAAM,MAAiC;YACrC,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;YACL,KAAK;QACP;QACA,OAAO,GAAG,CAAC,KAAK;IAClB;AACF"}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/luist/Sistema/lib/security/rate-limit.ts"],"sourcesContent":["import NodeCache from 'node-cache';\r\n\r\ninterface RateLimitConfig {\r\n  windowMs: number; // Time window in milliseconds\r\n  maxRequests: number; // Max requests per window\r\n}\r\n\r\nconst DEFAULT_CONFIG: RateLimitConfig = {\r\n  windowMs: 60 * 1000, // 1 minute\r\n  maxRequests: 30,\r\n};\r\n\r\nclass RateLimiter {\r\n  private cache = new NodeCache({ stdTTL: 60, checkperiod: 30 });\r\n  private config: RateLimitConfig;\r\n\r\n  constructor(config: Partial<RateLimitConfig> = {}) {\r\n    this.config = { ...DEFAULT_CONFIG, ...config };\r\n  }\r\n\r\n  check(identifier: string): { allowed: boolean; remaining: number } {\r\n    const key = `ratelimit:${identifier}`;\r\n    let count = this.cache.get<number>(key) || 0;\r\n\r\n    if (count >= this.config.maxRequests) {\r\n      return {\r\n        allowed: false,\r\n        remaining: 0,\r\n      };\r\n    }\r\n\r\n    count += 1;\r\n    this.cache.set(key, count, Math.ceil(this.config.windowMs / 1000));\r\n\r\n    return {\r\n      allowed: true,\r\n      remaining: this.config.maxRequests - count,\r\n    };\r\n  }\r\n\r\n  reset(identifier: string): void {\r\n    this.cache.del(`ratelimit:${identifier}`);\r\n  }\r\n}\r\n\r\nexport const apiLimiter = new RateLimiter({\r\n  windowMs: 15 * 60 * 1000, // 15 minutes\r\n  maxRequests: 100,\r\n});\r\n\r\nexport const loginLimiter = new RateLimiter({\r\n  windowMs: 15 * 60 * 1000, // 15 minutes\r\n  maxRequests: 10,\r\n});\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAOA,MAAM,iBAAkC;IACtC,UAAU,KAAK;IACf,aAAa;AACf;AAEA,MAAM;IACI,QAAQ,IAAI,mJAAS,CAAC;QAAE,QAAQ;QAAI,aAAa;IAAG,GAAG;IACvD,OAAwB;IAEhC,YAAY,SAAmC,CAAC,CAAC,CAAE;QACjD,IAAI,CAAC,MAAM,GAAG;YAAE,GAAG,cAAc;YAAE,GAAG,MAAM;QAAC;IAC/C;IAEA,MAAM,UAAkB,EAA2C;QACjE,MAAM,MAAM,CAAC,UAAU,EAAE,YAAY;QACrC,IAAI,QAAQ,IAAI,CAAC,KAAK,CAAC,GAAG,CAAS,QAAQ;QAE3C,IAAI,SAAS,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE;YACpC,OAAO;gBACL,SAAS;gBACT,WAAW;YACb;QACF;QAEA,SAAS;QACT,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,OAAO,KAAK,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,GAAG;QAE5D,OAAO;YACL,SAAS;YACT,WAAW,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG;QACvC;IACF;IAEA,MAAM,UAAkB,EAAQ;QAC9B,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,YAAY;IAC1C;AACF;AAEO,MAAM,aAAa,IAAI,YAAY;IACxC,UAAU,KAAK,KAAK;IACpB,aAAa;AACf;AAEO,MAAM,eAAe,IAAI,YAAY;IAC1C,UAAU,KAAK,KAAK;IACpB,aAAa;AACf"}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/luist/Sistema/lib/security/password-hash.ts"],"sourcesContent":["import * as bcrypt from 'bcryptjs';\r\n\r\nconst SALT_ROUNDS = 12; // Industry standard for bcrypt\r\n\r\nexport async function hashPassword(password: string): Promise<string> {\r\n  if (!password || password.length < 8) {\r\n    throw new Error('Password must be at least 8 characters long');\r\n  }\r\n  \r\n  try {\r\n    const hash = await bcrypt.hash(password, SALT_ROUNDS);\r\n    return hash;\r\n  } catch (error) {\r\n    console.error('[Password Hash Error]', error);\r\n    throw new Error('Failed to hash password');\r\n  }\r\n}\r\n\r\nexport async function verifyPassword(password: string, hash: string): Promise<boolean> {\r\n  try {\r\n    if (!password || !hash) {\r\n      return false;\r\n    }\r\n    const isMatch = await bcrypt.compare(password, hash);\r\n    return isMatch;\r\n  } catch (error) {\r\n    console.error('[Password Verify Error]', error);\r\n    return false;\r\n  }\r\n}\r\n\r\n// Generate hash for setup purposes\r\nexport async function generateHashForSetup(password: string): Promise<string> {\r\n  return await hashPassword(password);\r\n}\r\n\r\nexport function createPasswordHash(password: string): { hash: string; salt: string } {\r\n  // For bcryptjs, the salt is embedded in the hash, but we return a compatible format\r\n  // This is a synchronous version for setup scripts\r\n  const crypto = require('crypto');\r\n  const salt = crypto.randomBytes(32).toString('hex');\r\n  const hash = crypto.pbkdf2Sync(password, salt, 100000, 32, 'sha256').toString('hex');\r\n  return { hash, salt };\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEA,MAAM,cAAc,IAAI,+BAA+B;AAEhD,eAAe,aAAa,QAAgB;IACjD,IAAI,CAAC,YAAY,SAAS,MAAM,GAAG,GAAG;QACpC,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI;QACF,MAAM,OAAO,MAAM,2IAAW,CAAC,UAAU;QACzC,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,MAAM,IAAI,MAAM;IAClB;AACF;AAEO,eAAe,eAAe,QAAgB,EAAE,IAAY;IACjE,IAAI;QACF,IAAI,CAAC,YAAY,CAAC,MAAM;YACtB,OAAO;QACT;QACA,MAAM,UAAU,MAAM,8IAAc,CAAC,UAAU;QAC/C,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;IACT;AACF;AAGO,eAAe,qBAAqB,QAAgB;IACzD,OAAO,MAAM,aAAa;AAC5B;AAEO,SAAS,mBAAmB,QAAgB;IACjD,oFAAoF;IACpF,kDAAkD;IAClD,MAAM;IACN,MAAM,OAAO,OAAO,WAAW,CAAC,IAAI,QAAQ,CAAC;IAC7C,MAAM,OAAO,OAAO,UAAU,CAAC,UAAU,MAAM,QAAQ,IAAI,UAAU,QAAQ,CAAC;IAC9E,OAAO;QAAE;QAAM;IAAK;AACtB"}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/luist/Sistema/app/api/users/route.ts"],"sourcesContent":["import { sql } from '@/lib/database';\r\nimport { validateEmail, sanitizeString } from '@/lib/security/input-validation';\r\nimport { apiLimiter } from '@/lib/security/rate-limit';\r\nimport { hashPassword } from '@/lib/security/password-hash';\r\nimport { NextRequest, NextResponse } from 'next/server';\r\n\r\nfunction getRoleFromRequest(request: NextRequest): string | null {\r\n  return request.headers.get('X-User-Role') || null;\r\n}\r\n\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    const ip = request.headers.get('x-forwarded-for') || 'unknown';\r\n    const rateLimitCheck = apiLimiter.check(`users:get:${ip}`);\r\n\r\n    if (!rateLimitCheck.allowed) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Rate limit exceeded' },\r\n        { status: 429 }\r\n      );\r\n    }\r\n\r\n    const role = getRoleFromRequest(request);\r\n\r\n    if (!['Administrator', 'Manager'].includes(role || '')) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Unauthorized' },\r\n        { status: 403 }\r\n      );\r\n    }\r\n\r\n    const users = await sql`\r\n      SELECT u.id, u.email, u.first_name, u.last_name, r.name AS role, u.active, u.created_at \r\n      FROM users u\r\n      LEFT JOIN roles r ON u.role_id = r.id\r\n      WHERE u.active = true\r\n      ORDER BY u.created_at DESC\r\n    `;\r\n\r\n    return NextResponse.json({ success: true, users });\r\n  } catch (error) {\r\n    console.error('[Users GET Error]', error);\r\n    return NextResponse.json(\r\n      { success: false, message: 'Error fetching users' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const ip = request.headers.get('x-forwarded-for') || 'unknown';\r\n    const rateLimitCheck = apiLimiter.check(`users:post:${ip}`);\r\n\r\n    if (!rateLimitCheck.allowed) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Rate limit exceeded' },\r\n        { status: 429 }\r\n      );\r\n    }\r\n\r\n    const role = getRoleFromRequest(request);\r\n\r\n    if (role !== 'Manager') {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Unauthorized: only managers can create users' },\r\n        { status: 403 }\r\n      );\r\n    }\r\n\r\n    const body = await request.json();\r\n    const { email, firstName, lastName, userRole, password } = body;\r\n\r\n    if (!validateEmail(email) || !password || !firstName || !lastName || !userRole) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Invalid input data' },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const roleMap: { [key: string]: number } = {\r\n      'Administrator': 1,\r\n      'Manager': 2,\r\n      'ADM_INV': 3\r\n    };\r\n\r\n    const roleId = roleMap[userRole];\r\n    if (!roleId) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Invalid role' },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const emailLower = email.toLowerCase();\r\n    const existing = await sql`\r\n      SELECT id FROM users WHERE LOWER(email) = ${emailLower}\r\n    `;\r\n\r\n    if (existing.length > 0) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'User already exists' },\r\n        { status: 409 }\r\n      );\r\n    }\r\n\r\n    const hash = await hashPassword(password);\r\n    const firstNameSafe = sanitizeString(firstName);\r\n    const lastNameSafe = sanitizeString(lastName);\r\n\r\n    const result = await sql`\r\n      INSERT INTO users (email, first_name, last_name, role_id, password_hash, active)\r\n      VALUES (${emailLower}, ${firstNameSafe}, ${lastNameSafe}, ${roleId}, ${hash}, true)\r\n      RETURNING id, email, first_name, last_name, role_id, active\r\n    `;\r\n\r\n    return NextResponse.json(\r\n      { success: true, message: 'User created successfully', user: result[0] },\r\n      { status: 201 }\r\n    );\r\n  } catch (error) {\r\n    console.error('[Users POST Error]', error);\r\n    return NextResponse.json(\r\n      { success: false, message: 'Error creating user' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\nexport async function PUT(request: NextRequest) {\r\n  try {\r\n    const ip = request.headers.get('x-forwarded-for') || 'unknown';\r\n    const rateLimitCheck = apiLimiter.check(`users:put:${ip}`);\r\n\r\n    if (!rateLimitCheck.allowed) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Rate limit exceeded' },\r\n        { status: 429 }\r\n      );\r\n    }\r\n\r\n    const role = getRoleFromRequest(request);\r\n\r\n    if (role !== 'Manager') {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Unauthorized: only managers can edit users' },\r\n        { status: 403 }\r\n      );\r\n    }\r\n\r\n    const body = await request.json();\r\n    const { id, email, firstName, lastName, password } = body;\r\n\r\n    if (!id) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'User ID required' },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const updates: string[] = [];\r\n    const values: any[] = [];\r\n    let paramCount = 1;\r\n\r\n    if (email) {\r\n      if (!validateEmail(email)) {\r\n        return NextResponse.json(\r\n          { success: false, message: 'Invalid email' },\r\n          { status: 400 }\r\n        );\r\n      }\r\n      updates.push(`email = $${paramCount}`);\r\n      values.push(email.toLowerCase());\r\n      paramCount++;\r\n    }\r\n\r\n    if (firstName) {\r\n      updates.push(`first_name = $${paramCount}`);\r\n      values.push(sanitizeString(firstName));\r\n      paramCount++;\r\n    }\r\n\r\n    if (lastName) {\r\n      updates.push(`last_name = $${paramCount}`);\r\n      values.push(sanitizeString(lastName));\r\n      paramCount++;\r\n    }\r\n\r\n    if (password) {\r\n      const hash = await hashPassword(password);\r\n      updates.push(`password_hash = $${paramCount}`);\r\n      values.push(hash);\r\n      paramCount++;\r\n    }\r\n\r\n    if (updates.length === 0) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'No fields to update' },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    values.push(id);\r\n\r\n    const updateQuery = `\r\n      UPDATE users \r\n      SET ${updates.join(', ')}\r\n      WHERE id = $${paramCount}\r\n      RETURNING id, email, first_name, last_name, role_id, active\r\n    `;\r\n\r\n    const result = await sql.query(updateQuery, values);\r\n\r\n    return NextResponse.json(\r\n      { success: true, message: 'User updated successfully', user: result[0] },\r\n      { status: 200 }\r\n    );\r\n  } catch (error) {\r\n    console.error('[Users PUT Error]', error);\r\n    return NextResponse.json(\r\n      { success: false, message: 'Error updating user' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\nexport async function DELETE(request: NextRequest) {\r\n  try {\r\n    const ip = request.headers.get('x-forwarded-for') || 'unknown';\r\n    const rateLimitCheck = apiLimiter.check(`users:delete:${ip}`);\r\n\r\n    if (!rateLimitCheck.allowed) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Rate limit exceeded' },\r\n        { status: 429 }\r\n      );\r\n    }\r\n\r\n    const role = getRoleFromRequest(request);\r\n\r\n    if (role !== 'Manager') {\r\n      return NextResponse.json(\r\n        { success: false, message: 'Unauthorized: only managers can delete users' },\r\n        { status: 403 }\r\n      );\r\n    }\r\n\r\n    const { searchParams } = new URL(request.url);\r\n    const id = searchParams.get('id');\r\n\r\n    if (!id) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'User ID required' },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const userId = parseInt(id);\r\n\r\n    const result = await sql`\r\n      DELETE FROM users\r\n      WHERE id = ${userId}\r\n      RETURNING id, email\r\n    `;\r\n\r\n    if (result.length === 0) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'User not found' },\r\n        { status: 404 }\r\n      );\r\n    }\r\n\r\n    return NextResponse.json(\r\n      { success: true, message: 'User deleted successfully' },\r\n      { status: 200 }\r\n    );\r\n  } catch (error) {\r\n    console.error('[Users DELETE Error]', error);\r\n    return NextResponse.json(\r\n      { success: false, message: 'Error deleting user' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAEA,SAAS,mBAAmB,OAAoB;IAC9C,OAAO,QAAQ,OAAO,CAAC,GAAG,CAAC,kBAAkB;AAC/C;AAEO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,MAAM,KAAK,QAAQ,OAAO,CAAC,GAAG,CAAC,sBAAsB;QACrD,MAAM,iBAAiB,gJAAU,CAAC,KAAK,CAAC,CAAC,UAAU,EAAE,IAAI;QAEzD,IAAI,CAAC,eAAe,OAAO,EAAE;YAC3B,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAAsB,GACjD;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,OAAO,mBAAmB;QAEhC,IAAI,CAAC;YAAC;YAAiB;SAAU,CAAC,QAAQ,CAAC,QAAQ,KAAK;YACtD,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAAe,GAC1C;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,QAAQ,MAAM,wHAAG,CAAC;;;;;;IAMxB,CAAC;QAED,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM;QAAM;IAClD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,qBAAqB;QACnC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,SAAS;QAAuB,GAClD;YAAE,QAAQ;QAAI;IAElB;AACF;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,KAAK,QAAQ,OAAO,CAAC,GAAG,CAAC,sBAAsB;QACrD,MAAM,iBAAiB,gJAAU,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,IAAI;QAE1D,IAAI,CAAC,eAAe,OAAO,EAAE;YAC3B,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAAsB,GACjD;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,OAAO,mBAAmB;QAEhC,IAAI,SAAS,WAAW;YACtB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAA+C,GAC1E;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG;QAE3D,IAAI,CAAC,IAAA,yJAAa,EAAC,UAAU,CAAC,YAAY,CAAC,aAAa,CAAC,YAAY,CAAC,UAAU;YAC9E,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAAqB,GAChD;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,UAAqC;YACzC,iBAAiB;YACjB,WAAW;YACX,WAAW;QACb;QAEA,MAAM,SAAS,OAAO,CAAC,SAAS;QAChC,IAAI,CAAC,QAAQ;YACX,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAAe,GAC1C;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,aAAa,MAAM,WAAW;QACpC,MAAM,WAAW,MAAM,wHAAG,CAAC;gDACiB,EAAE,WAAW;IACzD,CAAC;QAED,IAAI,SAAS,MAAM,GAAG,GAAG;YACvB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAAsB,GACjD;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,OAAO,MAAM,IAAA,qJAAY,EAAC;QAChC,MAAM,gBAAgB,IAAA,0JAAc,EAAC;QACrC,MAAM,eAAe,IAAA,0JAAc,EAAC;QAEpC,MAAM,SAAS,MAAM,wHAAG,CAAC;;cAEf,EAAE,WAAW,EAAE,EAAE,cAAc,EAAE,EAAE,aAAa,EAAE,EAAE,OAAO,EAAE,EAAE,KAAK;;IAE9E,CAAC;QAED,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAM,SAAS;YAA6B,MAAM,MAAM,CAAC,EAAE;QAAC,GACvE;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sBAAsB;QACpC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,SAAS;QAAsB,GACjD;YAAE,QAAQ;QAAI;IAElB;AACF;AAEO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,MAAM,KAAK,QAAQ,OAAO,CAAC,GAAG,CAAC,sBAAsB;QACrD,MAAM,iBAAiB,gJAAU,CAAC,KAAK,CAAC,CAAC,UAAU,EAAE,IAAI;QAEzD,IAAI,CAAC,eAAe,OAAO,EAAE;YAC3B,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAAsB,GACjD;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,OAAO,mBAAmB;QAEhC,IAAI,SAAS,WAAW;YACtB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAA6C,GACxE;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,EAAE,EAAE,KAAK,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG;QAErD,IAAI,CAAC,IAAI;YACP,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAAmB,GAC9C;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,UAAoB,EAAE;QAC5B,MAAM,SAAgB,EAAE;QACxB,IAAI,aAAa;QAEjB,IAAI,OAAO;YACT,IAAI,CAAC,IAAA,yJAAa,EAAC,QAAQ;gBACzB,OAAO,gJAAY,CAAC,IAAI,CACtB;oBAAE,SAAS;oBAAO,SAAS;gBAAgB,GAC3C;oBAAE,QAAQ;gBAAI;YAElB;YACA,QAAQ,IAAI,CAAC,CAAC,SAAS,EAAE,YAAY;YACrC,OAAO,IAAI,CAAC,MAAM,WAAW;YAC7B;QACF;QAEA,IAAI,WAAW;YACb,QAAQ,IAAI,CAAC,CAAC,cAAc,EAAE,YAAY;YAC1C,OAAO,IAAI,CAAC,IAAA,0JAAc,EAAC;YAC3B;QACF;QAEA,IAAI,UAAU;YACZ,QAAQ,IAAI,CAAC,CAAC,aAAa,EAAE,YAAY;YACzC,OAAO,IAAI,CAAC,IAAA,0JAAc,EAAC;YAC3B;QACF;QAEA,IAAI,UAAU;YACZ,MAAM,OAAO,MAAM,IAAA,qJAAY,EAAC;YAChC,QAAQ,IAAI,CAAC,CAAC,iBAAiB,EAAE,YAAY;YAC7C,OAAO,IAAI,CAAC;YACZ;QACF;QAEA,IAAI,QAAQ,MAAM,KAAK,GAAG;YACxB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAAsB,GACjD;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO,IAAI,CAAC;QAEZ,MAAM,cAAc,CAAC;;UAEf,EAAE,QAAQ,IAAI,CAAC,MAAM;kBACb,EAAE,WAAW;;IAE3B,CAAC;QAED,MAAM,SAAS,MAAM,wHAAG,CAAC,KAAK,CAAC,aAAa;QAE5C,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAM,SAAS;YAA6B,MAAM,MAAM,CAAC,EAAE;QAAC,GACvE;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,qBAAqB;QACnC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,SAAS;QAAsB,GACjD;YAAE,QAAQ;QAAI;IAElB;AACF;AAEO,eAAe,OAAO,OAAoB;IAC/C,IAAI;QACF,MAAM,KAAK,QAAQ,OAAO,CAAC,GAAG,CAAC,sBAAsB;QACrD,MAAM,iBAAiB,gJAAU,CAAC,KAAK,CAAC,CAAC,aAAa,EAAE,IAAI;QAE5D,IAAI,CAAC,eAAe,OAAO,EAAE;YAC3B,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAAsB,GACjD;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,OAAO,mBAAmB;QAEhC,IAAI,SAAS,WAAW;YACtB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAA+C,GAC1E;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,EAAE,YAAY,EAAE,GAAG,IAAI,IAAI,QAAQ,GAAG;QAC5C,MAAM,KAAK,aAAa,GAAG,CAAC;QAE5B,IAAI,CAAC,IAAI;YACP,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAAmB,GAC9C;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,SAAS,SAAS;QAExB,MAAM,SAAS,MAAM,wHAAG,CAAC;;iBAEZ,EAAE,OAAO;;IAEtB,CAAC;QAED,IAAI,OAAO,MAAM,KAAK,GAAG;YACvB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAAiB,GAC5C;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAM,SAAS;QAA4B,GACtD;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,SAAS;QAAsB,GACjD;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}